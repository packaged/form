!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Form={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=function(t){return t&&t.Math==Math&&t},n=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||function(){return this}()||Function("return this")(),o=function(t){return"function"==typeof t},i=o,a=function(t){return"object"==typeof t?null!==t:i(t)},s=a,c=n.document,u=s(c)&&s(c.createElement),l=function(t){return u?c.createElement(t):{}},f=l("span").classList,d=f&&f.constructor&&f.constructor.prototype,p=d===Object.prototype?void 0:d,h=Function.prototype,v=h.bind,g=h.call,y=v&&v.bind(g),m=v?function(t){return t&&y(g,t)}:function(t){return t&&function(){return g.apply(t,arguments)}},b=function(t){try{return!!t()}catch(t){return!0}},x=m,_=x({}.toString),w=x("".slice),S=function(t){return w(_(t),8,-1)},O=m,E=b,A=S,L=n.Object,j=O("".split),T=E((function(){return!L("z").propertyIsEnumerable(0)}))?function(t){return"String"==A(t)?j(t,""):L(t)}:L,I=n.TypeError,P=function(t){if(null==t)throw I("Can't call method on "+t);return t},R=T,C=P,M=function(t){return R(C(t))},k={exports:{}},V=n,F=Object.defineProperty,z=function(t,e){try{F(V,t,{value:e,configurable:!0,writable:!0})}catch(r){V[t]=e}return e},D=z,$="__core-js_shared__",N=n[$]||D($,{}),G=N;(k.exports=function(t,e){return G[t]||(G[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"});var q,W,B=P,H=n.Object,U=function(t){return H(B(t))},Z=U,Y=m({}.hasOwnProperty),K=Object.hasOwn||function(t,e){return Y(Z(t),e)},J=m,X=0,Q=Math.random(),tt=J(1..toString),et=function(t){return"Symbol("+(void 0===t?"":t)+")_"+tt(++X+Q,36)},rt=n,nt=o,ot=function(t){return nt(t)?t:void 0},it=function(t,e){return arguments.length<2?ot(rt[t]):rt[t]&&rt[t][e]},at=n,st=it("navigator","userAgent")||"",ct=at.process,ut=at.Deno,lt=ct&&ct.versions||ut&&ut.version,ft=lt&&lt.v8;ft&&(W=(q=ft.split("."))[0]>0&&q[0]<4?1:+(q[0]+q[1])),!W&&st&&(!(q=st.match(/Edge\/(\d+)/))||q[1]>=74)&&(q=st.match(/Chrome\/(\d+)/))&&(W=+q[1]);var dt=W,pt=b,ht=!!Object.getOwnPropertySymbols&&!pt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&dt&&dt<41})),vt=ht&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,gt=n,yt=k.exports,mt=K,bt=et,xt=ht,_t=vt,wt=yt("wks"),St=gt.Symbol,Ot=St&&St.for,Et=_t?St:St&&St.withoutSetter||bt,At=function(t){if(!mt(wt,t)||!xt&&"string"!=typeof wt[t]){var e="Symbol."+t;xt&&mt(St,t)?wt[t]=St[t]:wt[t]=_t&&Ot?Ot(e):Et(e)}return wt[t]},Lt=n,jt=a,Tt=Lt.String,It=Lt.TypeError,Pt=function(t){if(jt(t))return t;throw It(Tt(t)+" is not an object")},Rt=!b((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Ct={},Mt=l,kt=!Rt&&!b((function(){return 7!=Object.defineProperty(Mt("div"),"a",{get:function(){return 7}}).a})),Vt=Function.prototype.call,Ft=Vt.bind?Vt.bind(Vt):function(){return Vt.apply(Vt,arguments)},zt=m({}.isPrototypeOf),Dt=it,$t=o,Nt=zt,Gt=vt,qt=n.Object,Wt=Gt?function(t){return"symbol"==typeof t}:function(t){var e=Dt("Symbol");return $t(e)&&Nt(e.prototype,qt(t))},Bt=n.String,Ht=o,Ut=function(t){try{return Bt(t)}catch(t){return"Object"}},Zt=n.TypeError,Yt=function(t){if(Ht(t))return t;throw Zt(Ut(t)+" is not a function")},Kt=function(t,e){var r=t[e];return null==r?void 0:Yt(r)},Jt=Ft,Xt=o,Qt=a,te=n.TypeError,ee=Ft,re=a,ne=Wt,oe=Kt,ie=function(t,e){var r,n;if("string"===e&&Xt(r=t.toString)&&!Qt(n=Jt(r,t)))return n;if(Xt(r=t.valueOf)&&!Qt(n=Jt(r,t)))return n;if("string"!==e&&Xt(r=t.toString)&&!Qt(n=Jt(r,t)))return n;throw te("Can't convert object to primitive value")},ae=At,se=n.TypeError,ce=ae("toPrimitive"),ue=function(t,e){if(!re(t)||ne(t))return t;var r,n=oe(t,ce);if(n){if(void 0===e&&(e="default"),r=ee(n,t,e),!re(r)||ne(r))return r;throw se("Can't convert object to primitive value")}return void 0===e&&(e="number"),ie(t,e)},le=Wt,fe=function(t){var e=ue(t,"string");return le(e)?e:e+""},de=Rt,pe=kt,he=Pt,ve=fe,ge=n.TypeError,ye=Object.defineProperty;Ct.f=de?ye:function(t,e,r){if(he(t),e=ve(e),he(r),pe)try{return ye(t,e,r)}catch(t){}if("get"in r||"set"in r)throw ge("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var me,be=Math.ceil,xe=Math.floor,_e=function(t){var e=+t;return e!=e||0===e?0:(e>0?xe:be)(e)},we=_e,Se=Math.max,Oe=Math.min,Ee=_e,Ae=Math.min,Le=function(t){return t>0?Ae(Ee(t),9007199254740991):0},je=Le,Te=M,Ie=function(t,e){var r=we(t);return r<0?Se(r+e,0):Oe(r,e)},Pe=function(t){return je(t.length)},Re=function(t){return function(e,r,n){var o,i=Te(e),a=Pe(i),s=Ie(n,a);if(t&&r!=r){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}},Ce={includes:Re(!0),indexOf:Re(!1)},Me={},ke=K,Ve=M,Fe=Ce.indexOf,ze=Me,De=m([].push),$e=function(t,e){var r,n=Ve(t),o=0,i=[];for(r in n)!ke(ze,r)&&ke(n,r)&&De(i,r);for(;e.length>o;)ke(n,r=e[o++])&&(~Fe(i,r)||De(i,r));return i},Ne=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ge=$e,qe=Ne,We=Object.keys||function(t){return Ge(t,qe)},Be=Ct,He=Pt,Ue=M,Ze=We,Ye=Rt?Object.defineProperties:function(t,e){He(t);for(var r,n=Ue(e),o=Ze(e),i=o.length,a=0;i>a;)Be.f(t,r=o[a++],n[r]);return t},Ke=it("document","documentElement"),Je=k.exports,Xe=et,Qe=Je("keys"),tr=function(t){return Qe[t]||(Qe[t]=Xe(t))},er=Pt,rr=Ye,nr=Ne,or=Me,ir=Ke,ar=l,sr=tr("IE_PROTO"),cr=function(){},ur=function(t){return"<script>"+t+"</"+"script>"},lr=function(t){t.write(ur("")),t.close();var e=t.parentWindow.Object;return t=null,e},fr=function(){try{me=new ActiveXObject("htmlfile")}catch(t){}var t,e;fr="undefined"!=typeof document?document.domain&&me?lr(me):((e=ar("iframe")).style.display="none",ir.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(ur("document.F=Object")),t.close(),t.F):lr(me);for(var r=nr.length;r--;)delete fr.prototype[nr[r]];return fr()};or[sr]=!0;var dr=Object.create||function(t,e){var r;return null!==t?(cr.prototype=er(t),r=new cr,cr.prototype=null,r[sr]=t):r=fr(),void 0===e?r:rr(r,e)},pr=dr,hr=Ct,vr=At("unscopables"),gr=Array.prototype;null==gr[vr]&&hr.f(gr,vr,{configurable:!0,value:pr(null)});var yr={},mr=o,br=N,xr=m(Function.toString);mr(br.inspectSource)||(br.inspectSource=function(t){return xr(t)});var _r,wr,Sr,Or=br.inspectSource,Er=o,Ar=Or,Lr=n.WeakMap,jr=Er(Lr)&&/native code/.test(Ar(Lr)),Tr=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Ir=Ct,Pr=Tr,Rr=Rt?function(t,e,r){return Ir.f(t,e,Pr(1,r))}:function(t,e,r){return t[e]=r,t},Cr=jr,Mr=n,kr=m,Vr=a,Fr=Rr,zr=K,Dr=N,$r=tr,Nr=Me,Gr="Object already initialized",qr=Mr.TypeError,Wr=Mr.WeakMap;if(Cr||Dr.state){var Br=Dr.state||(Dr.state=new Wr),Hr=kr(Br.get),Ur=kr(Br.has),Zr=kr(Br.set);_r=function(t,e){if(Ur(Br,t))throw new qr(Gr);return e.facade=t,Zr(Br,t,e),e},wr=function(t){return Hr(Br,t)||{}},Sr=function(t){return Ur(Br,t)}}else{var Yr=$r("state");Nr[Yr]=!0,_r=function(t,e){if(zr(t,Yr))throw new qr(Gr);return e.facade=t,Fr(t,Yr,e),e},wr=function(t){return zr(t,Yr)?t[Yr]:{}},Sr=function(t){return zr(t,Yr)}}var Kr={set:_r,get:wr,has:Sr,enforce:function(t){return Sr(t)?wr(t):_r(t,{})},getterFor:function(t){return function(e){var r;if(!Vr(e)||(r=wr(e)).type!==t)throw qr("Incompatible receiver, "+t+" required");return r}}},Jr={},Xr={},Qr={}.propertyIsEnumerable,tn=Object.getOwnPropertyDescriptor,en=tn&&!Qr.call({1:2},1);Xr.f=en?function(t){var e=tn(this,t);return!!e&&e.enumerable}:Qr;var rn=Rt,nn=Ft,on=Xr,an=Tr,sn=M,cn=fe,un=K,ln=kt,fn=Object.getOwnPropertyDescriptor;Jr.f=rn?fn:function(t,e){if(t=sn(t),e=cn(e),ln)try{return fn(t,e)}catch(t){}if(un(t,e))return an(!nn(on.f,t,e),t[e])};var dn={exports:{}},pn=Rt,hn=K,vn=Function.prototype,gn=pn&&Object.getOwnPropertyDescriptor,yn=hn(vn,"name"),mn={EXISTS:yn,PROPER:yn&&"something"===function(){}.name,CONFIGURABLE:yn&&(!pn||pn&&gn(vn,"name").configurable)},bn=n,xn=o,_n=K,wn=Rr,Sn=z,On=Or,En=mn.CONFIGURABLE,An=Kr.get,Ln=Kr.enforce,jn=String(String).split("String");(dn.exports=function(t,e,r,n){var o,i=!!n&&!!n.unsafe,a=!!n&&!!n.enumerable,s=!!n&&!!n.noTargetGet,c=n&&void 0!==n.name?n.name:e;xn(r)&&("Symbol("===String(c).slice(0,7)&&(c="["+String(c).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!_n(r,"name")||En&&r.name!==c)&&wn(r,"name",c),(o=Ln(r)).source||(o.source=jn.join("string"==typeof c?c:""))),t!==bn?(i?!s&&t[e]&&(a=!0):delete t[e],a?t[e]=r:wn(t,e,r)):a?t[e]=r:Sn(e,r)})(Function.prototype,"toString",(function(){return xn(this)&&An(this).source||On(this)}));var Tn={},In=$e,Pn=Ne.concat("length","prototype");Tn.f=Object.getOwnPropertyNames||function(t){return In(t,Pn)};var Rn={};Rn.f=Object.getOwnPropertySymbols;var Cn,Mn,kn,Vn=it,Fn=Tn,zn=Rn,Dn=Pt,$n=m([].concat),Nn=Vn("Reflect","ownKeys")||function(t){var e=Fn.f(Dn(t)),r=zn.f;return r?$n(e,r(t)):e},Gn=K,qn=Nn,Wn=Jr,Bn=Ct,Hn=b,Un=o,Zn=/#|\.prototype\./,Yn=function(t,e){var r=Jn[Kn(t)];return r==Qn||r!=Xn&&(Un(e)?Hn(e):!!e)},Kn=Yn.normalize=function(t){return String(t).replace(Zn,".").toLowerCase()},Jn=Yn.data={},Xn=Yn.NATIVE="N",Qn=Yn.POLYFILL="P",to=Yn,eo=n,ro=Jr.f,no=Rr,oo=dn.exports,io=z,ao=function(t,e){for(var r=qn(e),n=Bn.f,o=Wn.f,i=0;i<r.length;i++){var a=r[i];Gn(t,a)||n(t,a,o(e,a))}},so=to,co=function(t,e){var r,n,o,i,a,s=t.target,c=t.global,u=t.stat;if(r=c?eo:u?eo[s]||io(s,{}):(eo[s]||{}).prototype)for(n in e){if(i=e[n],o=t.noTargetGet?(a=ro(r,n))&&a.value:r[n],!so(c?n:s+(u?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;ao(i,o)}(t.sham||o&&o.sham)&&no(i,"sham",!0),oo(r,n,i,t)}},uo=!b((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),lo=n,fo=K,po=o,ho=U,vo=uo,go=tr("IE_PROTO"),yo=lo.Object,mo=yo.prototype,bo=vo?yo.getPrototypeOf:function(t){var e=ho(t);if(fo(e,go))return e[go];var r=e.constructor;return po(r)&&e instanceof r?r.prototype:e instanceof yo?mo:null},xo=b,_o=o,wo=bo,So=dn.exports,Oo=At("iterator"),Eo=!1;[].keys&&("next"in(kn=[].keys())?(Mn=wo(wo(kn)))!==Object.prototype&&(Cn=Mn):Eo=!0);var Ao=null==Cn||xo((function(){var t={};return Cn[Oo].call(t)!==t}));Ao&&(Cn={}),_o(Cn[Oo])||So(Cn,Oo,(function(){return this}));var Lo={IteratorPrototype:Cn,BUGGY_SAFARI_ITERATORS:Eo},jo=Ct.f,To=K,Io=At("toStringTag"),Po=function(t,e,r){t&&!To(t=r?t:t.prototype,Io)&&jo(t,Io,{configurable:!0,value:e})},Ro=Lo.IteratorPrototype,Co=dr,Mo=Tr,ko=Po,Vo=yr,Fo=function(){return this},zo=n,Do=o,$o=zo.String,No=zo.TypeError,Go=m,qo=Pt,Wo=function(t){if("object"==typeof t||Do(t))return t;throw No("Can't set "+$o(t)+" as a prototype")},Bo=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Go(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return qo(r),Wo(n),e?t(r,n):r.__proto__=n,r}}():void 0),Ho=co,Uo=Ft,Zo=mn,Yo=o,Ko=function(t,e,r,n){var o=e+" Iterator";return t.prototype=Co(Ro,{next:Mo(+!n,r)}),ko(t,o,!1),Vo[o]=Fo,t},Jo=bo,Xo=Bo,Qo=Po,ti=Rr,ei=dn.exports,ri=yr,ni=Zo.PROPER,oi=Zo.CONFIGURABLE,ii=Lo.IteratorPrototype,ai=Lo.BUGGY_SAFARI_ITERATORS,si=At("iterator"),ci="keys",ui="values",li="entries",fi=function(){return this},di=M,pi=function(t){gr[vr][t]=!0},hi=yr,vi=Kr,gi=function(t,e,r,n,o,i,a){Ko(r,e,n);var s,c,u,l=function(t){if(t===o&&v)return v;if(!ai&&t in p)return p[t];switch(t){case ci:case ui:case li:return function(){return new r(this,t)}}return function(){return new r(this)}},f=e+" Iterator",d=!1,p=t.prototype,h=p[si]||p["@@iterator"]||o&&p[o],v=!ai&&h||l(o),g="Array"==e&&p.entries||h;if(g&&(s=Jo(g.call(new t)))!==Object.prototype&&s.next&&(Jo(s)!==ii&&(Xo?Xo(s,ii):Yo(s[si])||ei(s,si,fi)),Qo(s,f,!0)),ni&&o==ui&&h&&h.name!==ui&&(oi?ti(p,"name",ui):(d=!0,v=function(){return Uo(h,this)})),o)if(c={values:l(ui),keys:i?v:l(ci),entries:l(li)},a)for(u in c)(ai||d||!(u in p))&&ei(p,u,c[u]);else Ho({target:e,proto:!0,forced:ai||d},c);return p[si]!==v&&ei(p,si,v,{name:o}),ri[e]=v,c},yi="Array Iterator",mi=vi.set,bi=vi.getterFor(yi),xi=gi(Array,"Array",(function(t,e){mi(this,{type:yi,target:di(t),index:0,kind:e})}),(function(){var t=bi(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values");hi.Arguments=hi.Array,pi("keys"),pi("values"),pi("entries");var _i=n,wi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Si=p,Oi=xi,Ei=Rr,Ai=At,Li=Ai("iterator"),ji=Ai("toStringTag"),Ti=Oi.values,Ii=function(t,e){if(t){if(t[Li]!==Ti)try{Ei(t,Li,Ti)}catch(e){t[Li]=Ti}if(t[ji]||Ei(t,ji,e),wi[e])for(var r in Oi)if(t[r]!==Oi[r])try{Ei(t,r,Oi[r])}catch(e){t[r]=Oi[r]}}};for(var Pi in wi)Ii(_i[Pi]&&_i[Pi].prototype,Pi);Ii(Si,"DOMTokenList");var Ri=Function.prototype,Ci=Ri.apply,Mi=Ri.bind,ki=Ri.call,Vi="object"==typeof Reflect&&Reflect.apply||(Mi?ki.bind(Ci):function(){return ki.apply(Ci,arguments)}),Fi={};Fi[At("toStringTag")]="z";var zi,Di,$i=n,Ni="[object z]"===String(Fi),Gi=o,qi=S,Wi=At("toStringTag"),Bi=$i.Object,Hi="Arguments"==qi(function(){return arguments}()),Ui=Ni?qi:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Bi(t),Wi))?r:Hi?qi(e):"Object"==(n=qi(e))&&Gi(e.callee)?"Arguments":n},Zi=n.String,Yi=function(t){if("Symbol"===Ui(t))throw TypeError("Cannot convert a Symbol value to a string");return Zi(t)},Ki=Pt,Ji=b,Xi=n.RegExp,Qi=Ji((function(){var t=Xi("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),ta=Qi||Ji((function(){return!Xi("a","y").sticky})),ea={BROKEN_CARET:Qi||Ji((function(){var t=Xi("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:ta,UNSUPPORTED_Y:Qi},ra=b,na=n.RegExp,oa=ra((function(){var t=na(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),ia=b,aa=n.RegExp,sa=ia((function(){var t=aa("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),ca=Ft,ua=m,la=Yi,fa=function(){var t=Ki(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},da=ea,pa=k.exports,ha=dr,va=Kr.get,ga=oa,ya=sa,ma=pa("native-string-replace",String.prototype.replace),ba=RegExp.prototype.exec,xa=ba,_a=ua("".charAt),wa=ua("".indexOf),Sa=ua("".replace),Oa=ua("".slice),Ea=(Di=/b*/g,ca(ba,zi=/a/,"a"),ca(ba,Di,"a"),0!==zi.lastIndex||0!==Di.lastIndex),Aa=da.BROKEN_CARET,La=void 0!==/()??/.exec("")[1];(Ea||La||Aa||ga||ya)&&(xa=function(t){var e,r,n,o,i,a,s,c=this,u=va(c),l=la(t),f=u.raw;if(f)return f.lastIndex=c.lastIndex,e=ca(xa,f,l),c.lastIndex=f.lastIndex,e;var d=u.groups,p=Aa&&c.sticky,h=ca(fa,c),v=c.source,g=0,y=l;if(p&&(h=Sa(h,"y",""),-1===wa(h,"g")&&(h+="g"),y=Oa(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==_a(l,c.lastIndex-1))&&(v="(?: "+v+")",y=" "+y,g++),r=new RegExp("^(?:"+v+")",h)),La&&(r=new RegExp("^"+v+"$(?!\\s)",h)),Ea&&(n=c.lastIndex),o=ca(ba,p?r:c,y),p?o?(o.input=Oa(o.input,g),o[0]=Oa(o[0],g),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Ea&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),La&&o&&o.length>1&&ca(ma,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&d)for(o.groups=a=ha(null),i=0;i<d.length;i++)a[(s=d[i])[0]]=o[s[1]];return o});var ja=xa;co({target:"RegExp",proto:!0,forced:/./.exec!==ja},{exec:ja});var Ta=m,Ia=dn.exports,Pa=ja,Ra=b,Ca=At,Ma=Rr,ka=Ca("species"),Va=RegExp.prototype,Fa=m,za=_e,Da=Yi,$a=P,Na=Fa("".charAt),Ga=Fa("".charCodeAt),qa=Fa("".slice),Wa=function(t){return function(e,r){var n,o,i=Da($a(e)),a=za(r),s=i.length;return a<0||a>=s?t?"":void 0:(n=Ga(i,a))<55296||n>56319||a+1===s||(o=Ga(i,a+1))<56320||o>57343?t?Na(i,a):n:t?qa(i,a,a+2):o-56320+(n-55296<<10)+65536}},Ba={codeAt:Wa(!1),charAt:Wa(!0)}.charAt,Ha=m,Ua=U,Za=Math.floor,Ya=Ha("".charAt),Ka=Ha("".replace),Ja=Ha("".slice),Xa=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Qa=/\$([$&'`]|\d{1,2})/g,ts=Ft,es=Pt,rs=o,ns=S,os=ja,is=n.TypeError,as=Vi,ss=Ft,cs=m,us=function(t,e,r,n){var o=Ca(t),i=!Ra((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!Ra((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[ka]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!a||r){var s=Ta(/./[o]),c=e(o,""[t],(function(t,e,r,n,o){var a=Ta(t),c=e.exec;return c===Pa||c===Va.exec?i&&!o?{done:!0,value:s(e,r,n)}:{done:!0,value:a(r,e,n)}:{done:!1}}));Ia(String.prototype,t,c[0]),Ia(Va,o,c[1])}n&&Ma(Va[o],"sham",!0)},ls=b,fs=Pt,ds=o,ps=_e,hs=Le,vs=Yi,gs=P,ys=function(t,e,r){return e+(r?Ba(t,e).length:1)},ms=Kt,bs=function(t,e,r,n,o,i){var a=r+t.length,s=n.length,c=Qa;return void 0!==o&&(o=Ua(o),c=Xa),Ka(i,c,(function(i,c){var u;switch(Ya(c,0)){case"$":return"$";case"&":return t;case"`":return Ja(e,0,r);case"'":return Ja(e,a);case"<":u=o[Ja(c,1,-1)];break;default:var l=+c;if(0===l)return i;if(l>s){var f=Za(l/10);return 0===f?i:f<=s?void 0===n[f-1]?Ya(c,1):n[f-1]+Ya(c,1):i}u=n[l-1]}return void 0===u?"":u}))},xs=function(t,e){var r=t.exec;if(rs(r)){var n=ts(r,t,e);return null!==n&&es(n),n}if("RegExp"===ns(t))return ts(os,t,e);throw is("RegExp#exec called on incompatible receiver")},_s=At("replace"),ws=Math.max,Ss=Math.min,Os=cs([].concat),Es=cs([].push),As=cs("".indexOf),Ls=cs("".slice),js="$0"==="a".replace(/./,"$0"),Ts=!!/./[_s]&&""===/./[_s]("a","$0");us("replace",(function(t,e,r){var n=Ts?"$":"$0";return[function(t,r){var n=gs(this),o=null==t?void 0:ms(t,_s);return o?ss(o,t,n,r):ss(e,vs(n),t,r)},function(t,o){var i=fs(this),a=vs(t);if("string"==typeof o&&-1===As(o,n)&&-1===As(o,"$<")){var s=r(e,i,a,o);if(s.done)return s.value}var c=ds(o);c||(o=vs(o));var u=i.global;if(u){var l=i.unicode;i.lastIndex=0}for(var f=[];;){var d=xs(i,a);if(null===d)break;if(Es(f,d),!u)break;""===vs(d[0])&&(i.lastIndex=ys(a,hs(i.lastIndex),l))}for(var p,h="",v=0,g=0;g<f.length;g++){for(var y=vs((d=f[g])[0]),m=ws(Ss(ps(d.index),a.length),0),b=[],x=1;x<d.length;x++)Es(b,void 0===(p=d[x])?p:String(p));var _=d.groups;if(c){var w=Os([y],b,m,a);void 0!==_&&Es(w,_);var S=vs(as(o,void 0,w))}else S=bs(y,a,m,b,_,o);m>=v&&(h+=Ls(a,v,m)+S,v=m+y.length)}return h+Ls(a,v)}]}),!!ls((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!js||Ts);var Is={exports:{}};!function(t,r){!function(n){var o=r,i=t&&t.exports==o&&t,a="object"==typeof e&&e;a.global!==a&&a.window!==a||(n=a);var s=function(t){this.message=t};(s.prototype=new Error).name="InvalidCharacterError";var c=function(t){throw new s(t)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,f={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&c("The string to be encoded contains characters outside of the Latin1 range.");for(var e,r,n,o,i=t.length%3,a="",s=-1,l=t.length-i;++s<l;)e=t.charCodeAt(s)<<16,r=t.charCodeAt(++s)<<8,n=t.charCodeAt(++s),a+=u.charAt((o=e+r+n)>>18&63)+u.charAt(o>>12&63)+u.charAt(o>>6&63)+u.charAt(63&o);return 2==i?(e=t.charCodeAt(s)<<8,r=t.charCodeAt(++s),a+=u.charAt((o=e+r)>>10)+u.charAt(o>>4&63)+u.charAt(o<<2&63)+"="):1==i&&(o=t.charCodeAt(s),a+=u.charAt(o>>2)+u.charAt(o<<4&63)+"=="),a},decode:function(t){var e=(t=String(t).replace(l,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&c("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,o=0,i="",a=-1;++a<e;)n=u.indexOf(t.charAt(a)),r=o%4?64*r+n:n,o++%4&&(i+=String.fromCharCode(255&r>>(-2*o&6)));return i},version:"1.0.0"};if(o&&!o.nodeType)if(i)i.exports=f;else for(var d in f)f.hasOwnProperty(d)&&(o[d]=f[d]);else n.base64=f}(e)}(Is,Is.exports);var Ps=Is.exports;function Rs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Cs=new Map;class Ms{static fromJsonObject(t){if(!Cs.has(t.t))throw"unrecognised type "+t.t;return Cs.get(t.t).deserialize(t.c)}static deserialize(t){return new this}validate(t){throw"validate not implemented on "+this.constructor.name}}class ks extends Ms{constructor(){super(...arguments),Rs(this,"_data",{})}setData(t){this._data=t}getData(){return this._data}}class Vs{constructor(t,e){this._errors=t||[],this._potentiallyValid=e||!1}get errors(){return this._errors}get potentiallyValid(){return this._potentiallyValid}static success(){return new Vs([],!0)}static potentiallyValid(){return new Vs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],!0)}static error(){return new Vs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],!1)}combine(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];e.forEach((t=>{t instanceof Vs&&(this._errors.push(...t._errors),this._potentiallyValid=this._potentiallyValid&&t._potentiallyValid)}))}}function Fs(t,e){Cs.set(t,e)}class zs extends Ms{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(),this._allowedValues=t||[],this._caseSensitive=!!e,this._negate=!!r}static deserialize(t){return new this(t.allowedValues||[],!!t.caseSensitive,!!t.negate)}validate(t){if(this._allowedValues.length){const e=new RegExp(this._allowedValues.join("|"),this._caseSensitive?"":"i");if(this._negate^!e.test(t))return Vs.error(["not a valid value"])}else if(this._negate^(null!==t&&""!==t))return Vs.error(["not a valid value"]);return Vs.success()}}class Ds extends Ms{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"does not match regular expression";super(),this._pattern=t,this._message=e}static deserialize(t){return new this(t.pattern,t.message)}validate(t){let e=this._pattern;if("string"==typeof e){const t=/\/(.*)\/(.*)/.exec(e);e=new RegExp(t[1],t[2])}return e instanceof RegExp?e.test(t)?Vs.success():Vs.error([this._message]):Vs.error(["not a valid regular expression"])}}class $s extends ks{constructor(t){super(),this._field=t}static deserialize(t){return new this(t.field)}validate(t){const e=this.getData(),r=e.hasOwnProperty(this._field)?e[this._field]:null;return r!==t?r.substr(0,t.length)===t?Vs.potentiallyValid(["value does not match"]):Vs.error(["value does not match"]):Vs.success()}}Fs("Equal",class extends Ms{constructor(t){super(),this._expect=t}static deserialize(t){return new this(t.expect)}validate(t){return t!==this._expect?Vs.error(["value does not match"]):Vs.success()}}),Fs("NotEqual",class extends Ms{constructor(t){super(),this._expect=t}static deserialize(t){return new this(t.expect)}validate(t){return t===this._expect?Vs.error(["value must not match"]):Vs.success()}}),Fs("Enum",zs),Fs("ConstEnum",class extends zs{}),Fs("Bool",class extends Ms{validate(t){if(null==t)return Vs.error(["Invalid boolean value"]);if("boolean"!=typeof t)if("string"==typeof t){if(!/true|false|0|1/.test(t.toLowerCase()))return Vs.error(["Invalid boolean value"])}else if("number"==typeof t&&0!==t&&1!==t)return Vs.error(["Invalid boolean value"]);return Vs.success()}}),Fs("String",class extends Ms{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(),this._minLength=t,this._maxLength=e}static deserialize(t){return new this(t.minLength,t.maxLength)}validate(t){return"string"!=typeof t?Vs.error(["not a valid value"]):this._minLength>0&&t.length<this._minLength?Vs.potentiallyValid(["must be at least "+this._minLength+" characters"]):this._maxLength>0&&t.length>this._maxLength?Vs.error(["must be no more than "+this._maxLength+" characters"]):Vs.success()}}),Fs("Required",class extends Ms{validate(t){return null==t||""===t?Vs.error(["required"]):Vs.success()}}),Fs("Multi",class extends Ms{constructor(t){super(),this._validators=t||[]}static deserialize(t){return new this(t.validators)}validate(t){let e=Vs.success();return this._validators.forEach((r=>{const n=Ms.fromObject(r);e.combine(n.validate(t))})),e}}),Fs("Regex",Ds),Fs("Email",class extends Ds{constructor(){super(/^[_a-zA-Z0-9+\-]+(\.[_a-zA-Z0-9+\-]+)*@[a-zA-Z0-9\-]+(\.[a-zA-Z0-9\-]+)*(\.[a-zA-Z]{2,})$/,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"invalid email address")}static deserialize(t){return new this(t.message)}}),Fs("IPv4",class extends Ds{constructor(){super("/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"invalid IPv4 address")}static deserialize(t){return new this(t.message)}}),Fs("Confirmation",$s);const Ns=new WeakMap;function Gs(t){return"checkbox"!==t.type&&"radio"!==t.type||t instanceof HTMLSelectElement||t.checked?t.value:null}function qs(t,e){return t.querySelector('.p-form__field[handler-name="'.concat(e,'"]'))}function Ws(t,e){let r=null;const n=qs(t,e);if(!n)return r;const o=n.querySelectorAll(':scope [name="'.concat(e,'"], :scope [name^="').concat(e,'["]'));return 1===o.length?r=Gs(o[0]):o.length>1&&(r=[],o.forEach((t=>{const e=Gs(t);null!==e&&("]"===t.getAttribute("name").substr(-1)?(r&&"Array"===r.constructor.name||(r=[]),r.push(e)):r=e)}))),r}function Bs(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=qs(t,e);if(!o)return;let i="valid";r.errors.length>0&&(i=r.potentiallyValid&&!n?"potentially-valid":"invalid"),o.setAttribute("validation-state",i)}function Hs(t,e){const r=qs(t,e);if(!r)return;r.removeAttribute("validation-state"),Ns.delete(r);const n=r.querySelector(".p-form__errors");n&&(n.innerHTML="")}function Us(t,e,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!r)return;if(r.errors<=0)return;const o=qs(t,e),i=o.querySelector(".p-form__errors");if(!i)return;Bs(t,e,r,n);const a=i.querySelector(":scope > ul")||document.createElement("ul");r.errors.forEach((t=>{const e=document.createElement("li");e.innerText=t,a.append(e)})),i.append(a),Ns.set(o,r)}const Zs=new class{constructor(){Rs(this,"_map",new WeakMap)}add(t,e){this._map.has(t)||this._map.set(t,new Set),this._map.get(t).add(e)}delete(t,e){this._map.has(t)&&this._map.get(t).delete(e)}clear(t){this._map.delete(t)}get(t){return this._map.get(t)}};function Ys(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new WeakMap;const o=Ws(t,e),i=qs(t,e);if(!i)return Vs.error(["handler not found"]);if(n.has(i))return n.get(i);const a=Vs.success(),s=Xs(i);try{const r=new FormData(t),n={};for(let[t,e]of r.entries())n[t]=e;s.forEach((r=>{if(r instanceof ks&&r.setData(n),r instanceof $s){const n=qs(t,r._field);Zs.add(n,e)}a.combine(r.validate(o))}))}catch(t){}n.set(i,a);const c=Zs.get(i);return c&&c.forEach((e=>{Ys(t,e,!0,n)})),Hs(t,e),!a.errors||a.potentiallyValid&&!r||Us(t,e,a,r),t.dispatchEvent(new CustomEvent("form-handler-validation",{detail:{handlerName:e,result:a},bubbles:!0,cancellable:!1})),a}function Ks(t){const e=new Qs;if(!(t instanceof HTMLFormElement))return console.error("not a form element"),e;const r=new WeakMap;return t.querySelectorAll(".p-form__field[validation]").forEach((n=>{const o=n.getAttribute("handler-name"),i=Ys(t,o,!0,r);e.append(o,i)})),t.dispatchEvent(new CustomEvent("form-validation",{detail:{result:e},bubbles:!0,cancellable:!1})),e}const Js=new WeakMap;function Xs(t){if(!Js.has(t)){const e=t.getAttribute("validation");if(e){const r=JSON.parse(Ps.decode(e)).map((t=>{try{return Ms.fromJsonObject(t)}catch(t){return null}}));Js.set(t,r.filter((t=>t instanceof Ms)))}}return Js.get(t)}class Qs{constructor(){this._isValid=!1,this._results=new Map}get isValid(){return this._isValid}get results(){return this._results}append(t,e){this._results.set(t,e),this._isValid=this._isValid&&0===e.errors}}let tc=new WeakSet;function ec(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;tc.has(t)||(tc.add(t),t.addEventListener("submit",(t=>{const e=Ks(t.path&&t.path[0]||t.target);t.detail=t.detail||{},t.detail["@packaged/form"]={validation:e},e.isValid||t.preventDefault()})),t.addEventListener("reset",(t=>{const e=t.path&&t.path[0]||t.target;e.querySelectorAll(".p-form__field[handler-name]").forEach((t=>Hs(e,t.getAttribute("handler-name"))))})),t.addEventListener("input",(t=>{rc(t.path&&t.path[0]||t.target,!1)})),t.addEventListener("focusout",(t=>{rc(t.path&&t.path[0]||t.target,!0)})))}function rc(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=t.closest(".p-form__field");if(!r||!r.hasAttribute("handler-name"))return;const n=r.getAttribute("handler-name"),o=t.closest("form");o&&Ys(o,n,e)}ec(),t.ValidationResults=Qs,t.addErrors=Us,t.clearErrors=Hs,t.getErrors=function(t,e){const r=qs(t,e);return Ns.get(r)},t.init=ec,t.validateForm=Ks,t.validateHandler=Ys,Object.defineProperty(t,"__esModule",{value:!0})}));
